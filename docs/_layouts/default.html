<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>

    {% if site.google_analytics %}
      <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}');
      </script>
    {% endif %}
    <meta charset="UTF-8">

    <!-- Add asciinema-player -->
    <link rel="stylesheet" href="{{ '/assets/css/asciinema-player.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/asciinema-player-custom.css' | relative_url }}">
    <script src="{{ '/assets/js/asciinema-player.js' | relative_url }}"></script>

{% seo %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="icon" href="{{ '/favicon.ico' | relative_url }}" type="image/x-icon" />
    {% feed_meta %}
  </head>
  <body>
    <div class="container">
      <nav class="sidebar">
        <a href="{{ '/' | relative_url }}">
          <img src="{{ '/assets/images/wash-logo-lg.png' | relative_url }}" class="wash-logo" alt="">
        </a>

        <ul class="nav-list">
          <li>
            <span class="nav-header">
              <a href="{{ '/docs' | relative_url }}" class="center-vertical">Docs</a>
            </span>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/posts' | relative_url }}" class="center-vertical">News</a>
            </span>
            <ul>
              {% for post in site.posts limit: 3 %}
                <li><a href="{{ post.url | remove: "/index.html" | relative_url }}">{{ post.title }}</a> <small>{{ post.date | date: "%Y-%m-%d" }}</small></li>
              {% endfor %}
            </ul>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/contributing' | relative_url }}" class="center-vertical">Contributing</a>
            </span>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/installing_wash' | relative_url }}" class="center-vertical">Installing Wash</a>
            </span>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/known_issues' | relative_url }}" class="center-vertical">Known Issues</a>
            </span>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/release_announcements' | relative_url }}" class="center-vertical">Release Announcements</a>
            </span>
          </li>

          <li>
            <span class="nav-header">
              <a href="{{ '/tutorials' | relative_url }}" class="center-vertical">Tutorials</a>
            </span>
            {% for tutorial in site.tutorials %}
              <!--
                The tutorial.main check is here so that Jekyll collections doesn't interpret each
                section as its own tutorial.
              -->
              {% if tutorial.main %}
                {% assign tutorial_url = tutorial.url | remove: "/index.html" | relative_url %}
                <ul>
                  <!--
                    Figure out tutorial_link. If the tutorial's 'main' page doesn't have any content, then
                    this will link to the tutorial's first section. Otherwise, we'll link to the tutorial's
                    URL. This avoids unnecessary 'main' pages for tutorials that don't need them (like e.g.
                    'Fundamentals').
                  -->
                  {% assign tutorial_link = tutorial_url %}
                  {% assign content_size = tutorial.content | strip_newlines | size %}
                  {% if content_size <= 0 %}
                    {% assign tutorial_link = tutorial_url | append: '/' | append: tutorial.sections.first['endpoint'] %}
                  {% endif %}
                  <li><a href="{{ tutorial_link }}" class="center-vertical">{{tutorial.title}}</a>
                    <ol>
                    {% for section in tutorial.sections %}
                      <li style="font-size:16px"><a href="{{ tutorial_url | append: '/' | append: section['endpoint'] }}" class="center-vertical">
                          {{ section['title'] }}
                        </a></li>
                    {% endfor %}
                    </ol>
                  </li>
                </ul>
              {% endif %}
            {% endfor %}
          </li>
        </ul>
      </nav>

      <main id="content" class="main-content" role="main">
        <h1>
          <img src="{{ '/assets/images/wash-logo.png' | relative_url }}">
          {{ page.title }}
        </h1>

        {{ content }}

        <footer class="site-footer">
          {% if site.github.is_project_page %}
            <div class="site-footer-owner">Â© 2019 &mdash; the Wash maintainers</div>
          {% endif %}
          <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
        </footer>
      </main>
    </div>
  </body>
</html>
